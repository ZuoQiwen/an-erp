## 核心用户故事

核心用户故事是与系统核心业务流程相对的，简单来说，就是“订单->生产->物料出入库->货品出入库->发货”的整个流程。

### 订单的生成->生产

#### 业务管理员可以根据客户的需求生成相应的订单

* 在销售管理/订单管理页面下，点击新增按钮，进入新增订单信息页面
* 订单编号，下单时间，订单状态不可编辑，显示为暂无
* 销售人员信息默认为当前登录用户，不可修改
* 获取所有客户列表，做为客户选择项，并填写联系人和备注 可不填
* 点击新增物品信息，获取所有物品信息列表，作为订单物品的选择项，并对所选物品添加数量和备注
* 点击保存按钮，自动生成订单编号和下单时间，将当前订单信息和所添加的物品信息提交保存

#### 业务管理员可以进入订单详情页面，对“待审核”状态的订单进行审核

* 在“销售管理-订单管理”页面，点击订单列表中订单状态为“待审核”的订单的“详情”按钮，进入对应订单的详情页面
* 点击“审核”按钮，页面出现确认操作的弹窗
* 点击“确定”按钮，订单状态变成“已审核”

#### 业务管理员可以进入订单详情页面，对“已审核”状态的订单进行启动生产

* 在“销售管理-订单管理”页面，点击订单列表中订单状态为“已审核”的订单的“详情”按钮，进入对应订单的详情页面
* 点击“启动生产”按钮，页面出现确认操作的弹窗
* 点击“确定”按钮，订单状态变成“生产中”

### 生产领料

#### 生产管理员可以根据订单，生成相应的生产领料单

* 在“生产管理-领料单管理”页面，点击“新增”按钮，进入新增生产领料单页面
* “领料单编号”、“创建时间”、“仓库负责人”、“领料单状态”信息均显示暂无，不可编辑
* “领料人”信息默认为当前登录用户，“领料原因”信息默认为生产领料，均不可修改
* 获取状态为“生产中”，且没有领料单关联的订单列表，作为“相关订单”信息选择项
* 选择“相关订单”后，获取该订单对应的物料分解信息，添加至领料单对应的“物料信息”中
* “物料信息”不可新增、删除，只能修改备注信息
* 点击“保存”按钮，将当前领料单信息提交保存

#### 生产管理员可以进入生产领料单详情页面，对“待审核”状态的领料单进行审核

* 在“生产管理-领料单管理”页面，点击领料单列表中领料单状态为“待审核”的领料单的“详情”按钮，进入对应领料单的详情页面
* 点击“审核”按钮，页面出现确认操作的弹窗
* 点击“确定”按钮，领料单状态变成“已审核”

### 领料出库失败

#### 仓库管理员新增物料出库单

* 在“库存管理/物料出库单管理”页面下，点击添加按钮，进入新增物料出库单界面
* 在“库存管理/物料出库单管理/新增”页面下，“出库单编号”、“创建时间”、“状态”均显示暂无，不可编辑仓库负责人默认为当前登录的用户，物料去向默认为领料出库且不可修改。备注栏可添加备注
* 获取状态为“已审核”，且没有出库单关联的领料单列表，作为“相关领料单”信息选择项
* 选择“相关领料单”后，获取该领料单对应的物料信息，添加至出库单对应的“物料信息”中
* 点击保存按钮保存
* 若物料数量不足，则保存失败

### 查看缺料情况

#### 物料采购员可以查看当前物料的仓库缺料信息

* 在采购辅助管理-缺料情况页面，物料采购员可以在表格中查看物料的缺料信息，包括“物料编号”，“物料名称”，“单位”，“实际库存数量”，“出库后数量”，“领料后数量”

#### 物料采购员可以反查物料报价

* 在采购辅助管理-缺料情况页面，物料采购员可以点击物料的“报价信息”按钮
* 在弹出的对话框中可以查看到该物料所有供应商的报价信息，包括“物料编号”，“物料名称”，“供应商名称”，“物料报价”
* 物料采购员可以点击“物料报价”旁的箭头对物料依据报价高低进行排序显示

### 采购入库

#### 仓库管理员新增物料入库单

* 在“库存管理/物料入库单管理”页面下，点击添加按钮，进入新增物料入库单界面
* 在“库存管理/物料入库单管理/新增”页面下，“入库单编号”、“创建时间”、“状态”均显示暂无，不可编辑仓库负责人默认为当前登录的用户，货品来源可选择退料入库和采购入库。备注栏可添加备注。相关退料单可选择
* 在“库存管理/物料入库单管理/新增”页面下，产品详情按照列表排列显示
* 当入库单货品来源为采购入库时，点击“新增产品详情”可添加产品详情。每条详情信息可修改或删除。点击右侧“详情”按钮修改，点击右侧”删除“按钮删除。此时，可以选择货品、仓库负责人和仓库。数量可以修改。可以添加仓库内位置和备注
* 点击保存即可保存

#### 仓库管理员审核物料入库单

* 在“库存管理/物料入库单管理”页面下，点击入库单列表中状态为待审核的入库单的“详情”按钮可进入详情页
* 在详情页点击审核按钮即可审核

#### 仓库管理员完成物料入库单

* 在“库存管理/物料入库单管理”页面下，点击入库单列表中状态为已审核的入库单的“详情”按钮可进入详情页
* 点击完成按钮弹框，选择确认完成

#### 仓库管理员查看物料库存情况

* 在“库存管理/物料库存统计“页面可以查看物料数量、实际库存数量和可用数量
* 上述三项同时以列表和饼状图形式显示

### 领料出库成功

#### 仓库管理员新增物料出库单

* 在“库存管理/物料出库单管理”页面下，点击添加按钮，进入新增物料出库单界面
* 在“库存管理/物料出库单管理/新增”页面下，“出库单编号”、“创建时间”、“状态”均显示暂无，不可编辑仓库负责人默认为当前登录的用户，物料去向默认为领料出库且不可修改。备注栏可添加备注
* 获取状态为“已审核”，且没有出库单关联的领料单列表，作为“相关领料单”信息选择项
* 选择“相关领料单”后，获取该领料单对应的物料信息，添加至出库单对应的“物料信息”中
* 点击保存按钮保存

#### 仓库管理员审核物料出库单

* 在“库存管理/物料出库单管理”页面下，点击出库单列表中状态为待审核的出库单的“详情”按钮可进入详情页
* 在详情页点击审核按钮即可审核

#### 仓库管理员完成物料出库单

* 在“库存管理/物料出库单管理”页面下，点击出库单列表中状态为已审核的出库单的“详情”按钮可进入详情页
* 点击完成按钮弹框，选择确认完成
* 若为领料入库，相应领料单变为“已完成”状态

### 生产退料

#### 生产管理员可以根据订单，生成相应的生产退料单

* 在“生产管理-退料单管理”页面，点击“新增”按钮，进入新增生产退料单页面
* “领料单编号”、“创建时间”、“仓库负责人”、“领料单状态”信息均显示暂无，不可编辑
* “退料人”信息默认为当前登录用户，“退料原因”信息默认为生产退料，均不可修改
* 获取状态为“生产中”，且没有退料单关联的订单列表，作为“相关订单”信息选择项
* 选择”相关订单“后，点击“新增物料信息”，出现“新增物料信息”弹窗
* 选择相关订单关联的“物料”，填写“数量”，选填“备注”信息，点击“确认”按钮，保存物料信息
* 添加完物料信息后，点击“保存”按钮，将当前退料单信息提交保存

#### 生产管理员可以进入生产退料单详情页面，对“待审核”状态的退料单进行审核

* 在“生产管理-退料单管理”页面，点击退料单列表中退料单状态为“待审核”的退料单的“详情”按钮，进入对应退料单的详情页面
* 点击“审核”按钮，页面出现确认操作的弹窗
* 点击“确定”按钮，退料单状态变成“已审核”

### 退料入库

#### 仓库管理员新增物料入库单

* 在“库存管理/物料入库单管理”页面下，点击添加按钮，进入新增物料入库单界面
* 在“库存管理/物料入库单管理/新增”页面下，“入库单编号”、“创建时间”、“状态”均显示暂无，不可编辑仓库负责人默认为当前登录的用户，货品来源可选择退料入库和采购入库。备注栏可添加备注。相关退料单可选择
* 在“库存管理/物料入库单管理/新增”页面下，产品详情按照列表排列显示
* 当入库单货品来源为退料入库时，获取状态为“已审核”，且没有入库单关联的退料单列表，作为“相关退料单”信息选择项
* 选择“相关退料单”后，获取该退料单对应的物料信息，添加至入库单对应的“物料信息”中
* 点击保存即可保存

#### 仓库管理员审核物料入库单

* 在“库存管理/物料入库单管理”页面下，点击入库单列表中状态为待审核的入库单的“详情”按钮可进入详情页
* 在详情页点击审核按钮即可审核

#### 仓库管理员完成物料入库单

* 在“库存管理/物料入库单管理”页面下，点击入库单列表中状态为已审核的入库单的“详情”按钮可进入详情页
* 点击完成按钮弹框，选择确认完成
* 若为退料入库，相应退料单变为“已完成”状态

### 货品入库

#### 仓库管理员新增货品入库单

* 在“库存管理/货品入库单管理”页面下，点击添加按钮，进入新增货品入库单界面
* 在“库存管理/货品入库单管理/新增”页面下，“入库单编号”、“创建时间”、“状态”均显示暂无，不可编辑。仓库负责人默认为当前登录的用户，货品来源默认为生产入库且不可修改。备注栏可添加备注。点击“新增产品详情”可添加产品详情
* 在“库存管理/货品入库单管理/新增”页面下，产品详情按照列表排列显示。每条详情信息可修改或删除。点击右侧“详情”按钮修改，点击右侧”删除“按钮删除
* 在“库存管理/货品入库单管理/新增/新增产品详情”页面下，可以选择货品、仓库负责人和仓库。数量可以修改。可以添加仓库内位置和备注。点击保存即可保存

#### 仓库管理员审核货品入库单

* 在“库存管理/货品入库单管理”页面下，点击入库单列表中状态为待审核的入库单的“详情”按钮可进入详情页
* 在详情页点击审核按钮即可审核

#### 仓库管理员完成货品入库单

* 在“库存管理/货品入库单管理”页面下，点击入库单列表中状态为已审核的入库单的“详情”按钮可进入详情页
* 点击完成按钮弹框，选择确认完成

#### 仓库管理员查看货品库存情况

* 在“库存管理/货品库存统计“页面可以查看货品数量、实际库存数量和可用数量
* 上述三项同时以列表和饼状图形式显示

### 订单发货出库

#### 仓库管理员新增货品出库单

* 在“库存管理/货品出库单管理”页面下，点击添加按钮，进入新增货品出库单界面
* 在“库存管理/货品出库单管理/新增”页面下，“出库单编号”、“创建时间”、“状态”均显示暂无，不可编辑仓库负责人默认为当前登录的用户，货品去向默认为发货出库且不可修改。备注栏可添加备注
* 获取状态为“生产中”，且没有货品出库单关联的订单列表，作为“相关订单”信息选择项
* 选择“相关订单”后，获取该订单对应的货品信息，添加至出库单对应的“货品信息”中
* 点击保存按钮保存
* 若货品数量不足，则保存失败

#### 仓库管理员审核货品出库单

* 在“库存管理/货品出库单管理”页面下，点击出库单列表中状态为待审核的出库单的“详情”按钮可进入详情页
* 在详情页点击审核按钮即可审核

#### 仓库管理员完成货品出库单

* 在“库存管理/货品出库单管理”页面下，点击出库单列表中状态为已审核的出库单的“详情”按钮可进入详情页
* 点击完成按钮弹框，选择确认完成
* 若为发货出库，相应订单变为“已发货”状态
